{
  "name": "turingq-migration",
  "private": true,
  "scripts": {
    "bootstrap": "lerna bootstrap --hoist && lerna link",
    "bootstrap:dev": "lerna bootstrap --hoist",
    "setup": "npm install && npm run bootstrap",
    "docker:build:authorizer-config": "docker build -t turingq/authorizer-config:latest -f packages/authorizer/Dockerfile.prod .",
    "docker:build:registration": "docker build -t turingq/registration:latest -f packages/registration/Dockerfile.prod .",
    "docker:build:frontend": "docker build -t turingq/frontend:latest -f packages/frontend/Dockerfile.prod .",
    "docker:build:questions": "docker build -t turingq/questions:latest -f packages/questions/Dockerfile.prod .",
    "docker:build:subscriptions": "docker build -t turingq/subscriptions:latest -f packages/subscriptions/Dockerfile.prod .",
    "docker:build:question-recommendation": "docker build -t turingq/question-recommendation:latest -f packages/question-recommendation/Dockerfile.prod .",
    "docker:local:tag:authorizer-config": "docker tag turingq/authorizer-config localhost:5000/turingq-authorizer-config",
    "docker:local:tag:registration": "docker tag turingq/registration localhost:5000/turingq-registration",
    "docker:local:tag:frontend": "docker tag turingq/frontend localhost:5000/turingq-frontend",
    "docker:local:tag:questions": "docker tag turingq/questions localhost:5000/turingq-questions",
    "docker:local:tag:subscriptions": "docker tag turingq/subscriptions localhost:5000/turingq-subscriptions",
    "docker:local:tag:question-recommendation": "docker tag turingq/question-recommendation localhost:5000/turingq-question-recommendation",
    "docker:local:push:authorizer-config": "docker push localhost:5000/turingq-authorizer-config",
    "docker:local:push:registration": "docker push localhost:5000/turingq-registration",
    "docker:local:push:frontend": "docker push localhost:5000/turingq-frontend",
    "docker:local:push:questions": "docker push localhost:5000/turingq-questions",
    "docker:local:push:subscriptions": "docker push localhost:5000/turingq-subscriptions",
    "docker:local:push:question-recommendation": "docker push localhost:5000/turingq-question-recommendation",
    "docker:prepare-local-image:authorizer-config": "run-s docker:build:authorizer-config docker:local:tag:authorizer-config docker:local:push:authorizer-config",
    "docker:prepare-local-image:registration": "run-s docker:build:registration docker:local:tag:registration docker:local:push:registration",
    "docker:prepare-local-image:frontend": "run-s docker:build:frontend docker:local:tag:frontend docker:local:push:frontend",
    "docker:prepare-local-image:questions": "run-s docker:build:questions docker:local:tag:questions docker:local:push:questions",
    "docker:prepare-local-image:subscriptions": "run-s docker:build:subscriptions docker:local:tag:subscriptions docker:local:push:subscriptions",
    "docker:prepare-local-image:question-recommendation": "run-s docker:build:question-recommendation docker:local:tag:question-recommendation docker:local:push:question-recommendation",
    "docker:all:build": "run-p docker:build:*",
    "docker:all:local-tag": "run-p docker:local:tag:*",
    "docker:all:local-push": "run-p docker:local:push:*",
    "docker:all:prepare-local-image": "run-p docker:prepare-local-image:*",
    "kubernetes:setup:authorizer": "kubectl apply -f packages/authorizer/k8s -f packages/authorizer/k8s/authorizer-config -f packages/authorizer/k8s/database",
    "kubernetes:setup:message-broker": "kubectl apply -f packages/message-broker/k8s",
    "kubernetes:setup:registration": "kubectl apply -f packages/registration/k8s/registration -f packages/registration/k8s/database",
    "kubernetes:setup:frontend": "kubectl apply -f packages/frontend/k8s",
    "kubernetes:setup:questions": "kubectl apply -f packages/questions/k8s/questions -f packages/questions/k8s/database",
    "kubernetes:setup:subscriptions": "kubectl apply -f packages/subscriptions/k8s/subscriptions -f packages/subscriptions/k8s/database",
    "kubernetes:setup:question-recommendation": "kubectl apply -f packages/question-recommendation/k8s/question-recommendation -f packages/question-recommendation/k8s/database",
    "kubernetes:all:setup": "run-p kubernetes:setup:*",
    "deploy:local:authorizer": "run-s docker:prepare-local-image:authorizer-config kubernetes:setup:authorizer",
    "deploy:local:registration": "run-s docker:prepare-local-image:registration kubernetes:setup:registration",
    "deploy:local:frontend": "run-s docker:prepare-local-image:frontend kubernetes:setup:frontend",
    "deploy:local:questions": "run-s docker:prepare-local-image:questions kubernetes:setup:questions",
    "deploy:local:subscriptions": "run-s docker:prepare-local-image:subscriptions kubernetes:setup:message-broker kubernetes:setup:subscriptions",
    "deploy:local:question-recommendation": "run-s docker:prepare-local-image:question-recommendation kubernetes:setup:message-broker kubernetes:setup:question-recommendation",
    "deploy:all:local": "run-s docker:all:prepare-local-image kubernetes:all:setup",
    "docker:prod:login": "dotenv cross-var 'aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com'",
    "docker:prod:tag:authorizer-config": "dotenv cross-var 'docker tag turingq/authorizer-config $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-authorizer-config'",
    "docker:prod:tag:registration": "dotenv cross-var 'docker tag turingq/registration $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-registration'",
    "docker:prod:tag:frontend": "dotenv cross-var 'docker tag turingq/frontend $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-frontend'",
    "docker:prod:tag:questions": "dotenv cross-var 'docker tag turingq/questions $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-questions'",
    "docker:prod:tag:subscriptions": "dotenv cross-var 'docker tag turingq/subscriptions $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-subscriptions'",
    "docker:prod:tag:question-recommendation": "dotenv cross-var 'docker tag turingq/question-recommendation $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-question-recommendation'",
    "docker:prod:push:authorizer-config": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-authorizer-config'",
    "docker:prod:push:registration": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-registration'",
    "docker:prod:push:frontend": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-frontend'",
    "docker:prod:push:questions": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-questions'",
    "docker:prod:push:subscriptions": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-subscriptions'",
    "docker:prod:push:question-recommendation": "dotenv cross-var 'docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/turingq-question-recommendation'",
    "docker:prepare-prod-image:authorizer-config": "run-s docker:build:authorizer-config docker:prod:tag:authorizer-config docker:prod:push:authorizer-config",
    "docker:prepare-prod-image:registration": "run-s docker:build:registration docker:prod:tag:registration docker:prod:push:registration",
    "docker:prepare-prod-image:frontend": "run-s docker:build:frontend docker:prod:tag:frontend docker:prod:push:frontend",
    "docker:prepare-prod-image:questions": "run-s docker:build:questions docker:prod:tag:questions docker:prod:push:questions",
    "docker:prepare-prod-image:subscriptions": "run-s docker:build:subscriptions docker:prod:tag:subscriptions docker:prod:push:subscriptions",
    "docker:prepare-prod-image:question-recommendation": "run-s docker:build:question-recommendation docker:prod:tag:question-recommendation docker:prod:push:question-recommendation"
  },
  "devDependencies": {
    "adonis-preset-ts": "^2.1.0",
    "eslint": "^8.4.1",
    "eslint-config-prettier": "^8.3.0",
    "eslint-plugin-adonis": "^2.1.0",
    "eslint-plugin-prettier": "^4.0.0",
    "lerna": "^4.0.0",
    "npm-run-all": "^4.1.5",
    "prettier": "^2.5.1",
    "typescript": "~4.5"
  }
}
